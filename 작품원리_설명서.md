# 안심톡 작품원리 설명서

## 📋 목차

1. [개요](#개요)
2. [작동 원리](#작동-원리)
3. [AI 분석 기술](#ai-분석-기술)
4. [보안 및 프라이버시](#보안-및-프라이버시)
5. [사용자 가이드](#사용자-가이드)
6. [기술적 세부사항](#기술적-세부사항)

## 🎯 개요

### 안심톡이란?
안심톡은 AI 기술을 활용하여 딥페이크와 사이버폭력을 분석하고 디지털 증거를 안전하게 증거화하는 웹 서비스입니다.

### 주요 특징
- **AI 기반 분석**: Sightengine API와 Google APIs를 활용한 정확한 분석
- **사용자 친화적**: 기술적 지식 없이도 쉽게 사용 가능
- **법적 효력**: SHA-256 해시값과 메타데이터를 포함한 증거보고서
- **보안 강화**: 업로드 파일 자동 삭제 및 개인정보 보호

## ⚙️ 작동 원리

### 전체 프로세스

```
1. 파일 업로드 → 2. AI 분석 → 3. 결과 생성 → 4. PDF 보고서 → 5. 파일 정리
```

### 단계별 상세 설명

#### 1단계: 파일 업로드
- **지원 형식**: 이미지(PNG, JPG, JPEG), 텍스트(TXT)
- **파일 크기**: 최대 5MB
- **보안 검증**: 확장자 및 크기 검증
- **임시 저장**: 분석용 임시 파일 생성
- **해시값 생성**: SHA-256 해시값으로 파일 무결성 보장

#### 2단계: AI 분석
- **딥페이크 분석**: Sightengine API를 활용한 이미지 진위 여부 판단
- **사이버폭력 분석**: Google Gemini API를 활용한 텍스트 유해성 평가
- **텍스트 추출**: Google Cloud Vision API를 활용한 이미지 텍스트 추출
- **메타데이터 추출**: 파일 정보 및 EXIF 데이터 생성

#### 3단계: 결과 생성
- **분석 결과**: AI 분석 결과 및 위험도 점수
- **대응 방안**: 상황별 권장 조치사항
- **상담 안내**: 관련 기관 연락처 및 신고 방법

#### 4단계: PDF 보고서
- **증거보고서**: FPDF와 WeasyPrint를 활용한 법적 효력 보고서
- **포함 내용**: SHA-256 해시값, 메타데이터, AI 분석 결과
- **다운로드**: 즉시 PDF 파일 다운로드 가능

#### 5단계: 파일 정리
- **자동 삭제**: 임시 파일 자동 삭제
- **세션 정리**: 분석 데이터 세션에서 제거
- **프라이버시 보호**: 개인정보 완전 삭제

## 🤖 AI 분석 기술

### 딥페이크 분석 (Sightengine API)

#### 사용 기술
- **Sightengine API**: 전문 딥페이크 탐지 서비스
- **다중 모델**: deepfake, offensive, nudity, wad 모델 동시 분석
- **패턴 인식**: AI 생성 이미지 특징 탐지

#### 분석 과정
1. **이미지 전처리**: 해상도 및 형식 최적화
2. **API 호출**: Sightengine API로 이미지 전송
3. **다중 분석**: 딥페이크, 불쾌감, 노골성, 폭력성 동시 분석
4. **결과 해석**: 각 모델별 신뢰도 점수 계산

#### 결과 해석
- **딥페이크 점수**: 0-1 척도 (높을수록 딥페이크 가능성)
- **불쾌감 점수**: 0-1 척도 (높을수록 불쾌한 내용)
- **노골성 점수**: 0-1 척도 (높을수록 노골적 내용)
- **폭력성 점수**: 0-1 척도 (높을수록 폭력적 내용)

### 사이버폭력 분석 (Google APIs)

#### 사용 기술
- **Google Cloud Vision API**: 이미지 텍스트 추출(OCR)
- **Google Gemini API**: 텍스트 유해성 분석
- **자연어 처리**: 문맥 이해 및 감정 분석

#### 분석 과정
1. **텍스트 추출**: Google Cloud Vision API로 이미지에서 텍스트 추출
2. **내용 분석**: Google Gemini API로 텍스트 유해성 분석
3. **유형 분류**: 욕설, 비하, 따돌림, 협박 등 유형 구분
4. **위험도 평가**: 상황별 위험도 점수 계산

#### 분석 결과
- **유해성 점수**: 0-100점 척도
- **폭력 유형**: 구체적인 폭력 유형 분류
- **대응 방안**: 상황별 권장 조치사항
- **위험도 레벨**: 심각, 있음, 약간, 의심, 없음

## 🔒 보안 및 프라이버시

### 파일 보안

#### 업로드 보안
- **파일 검증**: 확장자 및 크기 엄격 검증 (PNG, JPG, JPEG, TXT, 최대 5MB)
- **SHA-256 해시**: 파일 무결성 검증
- **임시 저장**: 분석용 임시 파일만 저장

#### 저장 보안
- **자동 삭제**: 분석 완료 후 즉시 파일 삭제
- **세션 관리**: 사용자별 독립적인 세션
- **접근 제한**: 서버 내부 접근만 허용

### 개인정보 보호

#### 수집 정보
- **업로드 파일**: 분석용 임시 파일만
- **분석 결과**: 세션 기반 임시 저장
- **개인정보**: 수집하지 않음
- **업로더 정보**: 익명화된 업로더 ID 생성

#### 보호 조치
- **암호화**: 모든 통신 HTTPS 암호화
- **세션 관리**: 브라우저 세션 기반
- **자동 삭제**: 세션 종료 시 모든 데이터 삭제

### API 보안

#### 키 관리
- **환경 변수**: API 키 환경 변수로 관리
- **접근 제한**: 서버 내부에서만 API 호출
- **키 순환**: 정기적인 API 키 교체

## 📖 사용자 가이드

### 딥페이크 분석 사용법

#### 1. 파일 선택
- 메인 페이지에서 "딥페이크 분석" 섹션 선택
- "파일 선택" 버튼 클릭
- 분석할 이미지 파일 선택(PNG, JPG, JPEG, 최대 5MB)

#### 2. 분석 시작
- "분석 시작" 버튼 클릭
- Sightengine API를 통한 딥페이크 탐지 진행
- 결과 페이지에서 분석 결과 확인

#### 3. 결과 확인
- **딥페이크 점수**: 딥페이크 가능성 점수 (0-1)
- **불쾌감/노골성/폭력성 점수**: 각 항목별 위험도
- **분석 상세**: Sightengine API 분석 결과 상세 내용
- **권장 조치**: 상황별 대응 방안

#### 4. 증거 저장
- "PDF 다운로드" 버튼 클릭
- 법적 효력을 갖춘 증거보고서 다운로드
- 상담/신고 안내 페이지로 이동 가능

### 사이버폭력 분석 사용법

#### 1. 파일 선택
- "사이버폭력 분석" 섹션 선택
- 텍스트 파일(TXT) 또는 이미지 파일 선택
- 이미지의 경우 텍스트가 포함된 이미지 선택

#### 2. 분석 시작
- "분석 시작" 버튼 클릭
- Google Cloud Vision API로 텍스트 추출
- Google Gemini API로 텍스트 유해성 분석
- 결과 페이지에서 상세 분석 확인

#### 3. 결과 확인
- **유해성 점수**: 사이버폭력 위험도 (0-100점)
- **폭력 유형**: 구체적인 폭력 유형 분류
- **위험도 레벨**: 심각/있음/약간/의심/없음
- **대응 방안**: 상황별 권장 조치사항

#### 4. 후속 조치
- PDF 증거보고서 다운로드
- 상담/신고 기관 안내 확인
- 필요시 관련 기관에 신고

### 상담 및 신고

#### 딥페이크 피해
- **경찰청 사이버수사과**: 182
- **디지털성범죄피해자지원센터**: 1366
- **한국정보통신기술협회**: 02-580-0123

#### 사이버폭력 피해
- **청소년사이버상담센터**: 1388
- **경찰청 사이버수사과**: 182
- **학교폭력 신고센터**: 117

## 🔧 기술적 세부사항

### 시스템 아키텍처

#### 웹 서버
- **Flask**: Python 기반 웹 프레임워크
- **Gunicorn**: WSGI 서버
- **Docker**: 컨테이너화 배포

#### AI 엔진
- **Sightengine API**: 딥페이크 탐지
- **Google Gemini API**: 텍스트 분석
- **Google Cloud Vision API**: OCR 및 이미지 처리
- **FPDF + WeasyPrint**: PDF 생성

#### 데이터 처리
- **파일 처리**: Pillow 라이브러리
- **해시 생성**: SHA-256 알고리즘
- **메타데이터**: EXIF 데이터 추출
- **HTML 변환**: 마크다운 표를 HTML로 변환

### 성능 최적화

#### 응답 시간
- **파일 업로드**: 최대 5MB 제한
- **Sightengine API**: 평균 5-15초
- **Google APIs**: 평균 10-30초
- **PDF 생성**: 평균 5-10초

#### 동시 사용자
- **Railway 플랫폼**: 자동 스케일링
- **세션 관리**: 사용자별 독립 세션
- **리소스 관리**: 효율적인 메모리 사용

### 확장성

#### 기능 확장
- **다국어 지원**: 언어별 분석 모델
- **새로운 분석 유형**: 추가 AI 모델 연동
- **사용자 관리**: 계정 시스템 도입

#### 기술 확장
- **마이크로서비스**: 기능별 서비스 분리
- **데이터베이스**: 분석 기록 저장
- **API 서비스**: 외부 서비스 연동

## 📞 지원 및 문의

### 기술 지원
- **GitHub Issues**: 버그 리포트 및 기능 제안
- **이메일**: 프로젝트 관련 문의
- **문서**: 상세한 사용 가이드 제공

### 개발팀
- **윤여준팀장**: 프로젝트 관리
- **김태양**: 백엔드 개발
- **김태영**: 프론트엔드 개발

---

**안심톡** - AI로 더 안전한 디지털 세상을 만들어갑니다.